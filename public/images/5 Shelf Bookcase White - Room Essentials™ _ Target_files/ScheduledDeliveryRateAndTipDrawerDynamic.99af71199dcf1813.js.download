"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6426],{24793:function(e,r,t){t.r(r),t.d(r,{ScheduledDeliveryRateAndTipDrawerDynamic:function(){return de}});var a=t(19525),o=t(85893),s=t(67294),n=t(33482),i=t(18426),p=t(83803),l=t(84601),c=t(688),d=t(26221),u=t(96012),h=t(64595),m=t(92354),y=t(69027);const{useQuery:g}=(0,h.J)({name:"@web/domain-guest/profile-shipt-memberships/get-shoppers",queryFn:async()=>{const{baseUrl:e,apiKey:r,apis:{guestProfileShiptMembershipsV1:t}}=(0,u.asConfigV2)(u.config).services.apiPlatform,a=m.Z.buildURLWithParams(new URL(t.endpointPaths.shoppers,e),{}),{data:o,ok:s,statusText:n}=await(0,y.U2)(a,{credentials:"include",headers:{Accept:"application/json","x-api-key":r},errorTag:"get_preferred_shoppers_v1_api_error",timerTag:"get_preferred_shoppers_v1_api_call"});if(s)return o;throw new Error(`${n}`)}});var f=t(29709),v=t(91327),b=t(14415),P=t(94034);const S=({closeDrawer:e})=>{const r=(0,s.useCallback)((()=>e()),[e]);return(0,o.jsxs)("div",{className:"h-text-center","data-test":"tip-drawer-error",children:[(0,o.jsx)(P.N,{showDefaultImage:!0,showThankYouDefault:!0,size:"medium"}),(0,o.jsx)(v.X,{className:"h-margin-a-wide",level:3,children:"Thanks for the feedback"}),(0,o.jsx)("span",{children:"Your feedback helps us improve our Same Day Delivery service."}),(0,o.jsx)(b.D,{className:"h-margin-t-wide",isFullWidth:!0,onClick:r,children:"Done"})]})};S.displayName="ThankYouScreen";var w=t(5152);const x=t.n(w)()((()=>t.e(8532).then(t.bind(t,63482)).then((e=>e.LandingScreen))),{loadableGenerated:{webpack:()=>[63482]}});var k=t(96582);var j=t(59499),O=t(98689);const{useMutation:T}=(0,O.F)({name:"@web/domain-guest/profile-shipt-memberships/post-shoppers",mutationFn:async({shopper_id:e})=>{const{baseUrl:r,apiKey:t,apis:{guestProfileShiptMembershipsV1:a}}=(0,u.asConfigV2)(u.config).services.apiPlatform,o=m.Z.buildURLWithParams(new URL(a.endpointPaths.shoppers,r),{}),{data:s,ok:n,statusText:i}=await(0,y.v_)(o,{body:JSON.stringify({shopper_id:e}),credentials:"include",headers:{Accept:"application/json","x-api-key":t},errorTag:"post_preferred_shoppers_v1_api_error",timerTag:"post_preferred_shoppers_v1_api_call"});if(n)return s;throw new Error(`${i}`)}});var _=t(85239),N=t(81668),D=t(19521);const C=D.ZP.p.withConfig({displayName:"styles__GrayAreaTextBox",componentId:"sc-1opj2my-0"})(["border-radius:",";background-color:",";font-size:",";color:",";padding:",";margin-bottom:",";text-align:left;vertical-align:middle;"],N.border.radius.x1,N.colors.background.lightest,N.font.size.text.medium,N.colors.text.onLight.secondary,N.space.generic.x4,N.space.generic.x4),A=D.ZP.div.withConfig({displayName:"styles__ShopperImageAndIconContainer",componentId:"sc-1opj2my-1"})(["width:215px;height:215px;margin:0 auto;position:relative;"]),E=D.ZP.img.withConfig({displayName:"styles__AbsolutePlacementGreenCheckmark",componentId:"sc-1opj2my-2"})(["position:absolute;top:85%;left:69%;"]),R=({shopperName:e,shopperPhoto:r,tipAmount:t})=>(0,o.jsxs)(o.Fragment,{children:[t?(0,o.jsxs)(C,{children:["$",t," has been charged to your card"]}):null,(0,o.jsxs)("div",{className:"h-text-center",children:[(0,o.jsx)(P.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,o.jsxs)("div",{children:[(0,o.jsxs)(v.X,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:["Do you want to add ",e," as a Favorite Shopper?"]}),(0,o.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"We'll match you with your Favorite Shoppers based on availability"})]})]})]});R.displayName="PreferredShopperAddScreen";var I=t(29428);const F="SHOULD_OPEN_MANAGE_PREFERRED_SHOPPER_DRAWER";var L=t(4730),Z=t(16294),U=t(88299);const B=["displayText","showSpinner","spinnerDataTest"],z=["displayText"];function G(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function $(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?G(Object(t),!0).forEach((function(r){(0,j.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):G(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const W=({buttonPrimaryProps:e={},buttonSecondaryProps:r={}})=>{const{displayText:t,showSpinner:a,spinnerDataTest:s}=e,n=(0,L.Z)(e,B),{displayText:i}=r,p=(0,L.Z)(r,z);return(0,o.jsxs)(Z.h,{isStacked:!0,children:[t?(0,o.jsx)(b.D,$($({"aria-label":t,className:"h-padding-h-default"},n),{},{children:a?(0,o.jsx)(U.$,{className:"h-margin-h-default","data-test":null!==s&&void 0!==s?s:"@web/DrawerButtonGroupPrimarySpinner",size:"small",spinnerColor:"white"}):t})):null,i?(0,o.jsx)(k.P,$($({"aria-label":i,className:"h-margin-v-none h-padding-h-default"},p),{},{children:i})):null]})};W.displayName="DrawerButtonGroup";var Y=t(58820);const M=({shopperName:e,shopperPhoto:r})=>(0,o.jsxs)("div",{className:"h-text-center",children:[(0,o.jsxs)(A,{children:[(0,o.jsx)(P.N,{isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,o.jsx)(E,{alt:"Green Checkmark",className:"successCheckmark",src:Y.ks})]}),(0,o.jsxs)(v.X,{className:"h-margin-t-default",level:3,children:["Great! ",e," is a Favorite Shopper."]})]});function H(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function q(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?H(Object(t),!0).forEach((function(r){(0,j.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):H(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}M.displayName="PreferredShopperSuccessScreen";const V=(e={})=>{const[r,{close:t,closeAll:a,open:i,isShown:p}]=(0,n.I)(q(q({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperSuccessDrawerOverlay";const l=({shopper:e,onAfterClose:a})=>{const[n,{setShouldOpenFromStorage:i}]=(()=>{const{0:e,1:r}=(0,s.useState)(!1),t=(0,s.useCallback)((()=>{I.y7.remove(F),r(!1)}),[]),a=(0,s.useCallback)((async()=>{var e;const r=null!==(e=await I.y7.get(F))&&void 0!==e&&e;return Boolean(r)}),[]),o=(0,s.useCallback)((e=>(t(),I.y7.set(F,null===e||void 0===e||e))),[t]);return(0,s.useEffect)((()=>{(async()=>{if(e)return;const t=await a();r(t)})()}),[a,r,e]),(0,s.useMemo)((()=>[e,{clearShouldOpenFromStorage:t,setShouldOpenFromStorage:o}]),[t,e,o])})(),p=null===e||void 0===e?void 0:e.name,l=null===e||void 0===e?void 0:e.photo,c=null!==p&&void 0!==p?p:"Your shopper",d=(0,s.useCallback)((()=>{i(),window.location.assign("/account/memberships")}),[i]);return(0,o.jsx)(r,{hasCloseButton:!0,headingText:"Shopper added!",onAfterClose:a,renderCellButton:(0,o.jsx)(W,{buttonPrimaryProps:{className:"h-padding-h-default",onClick:t,displayText:"Done"},buttonSecondaryProps:{onClick:d,className:"h-margin-v-none h-padding-h-default",displayText:"View Favorite Shoppers"}}),scroll:"content",children:(0,o.jsx)(M,{shopperName:c,shopperPhoto:l})})};l.displayName="PreferredShopperSuccessDrawer";const c=(0,s.useCallback)(l,[r,t]);return(0,s.useMemo)((()=>[c,{close:t,closeAll:a,open:i,isShown:p}]),[c,t,a,i,p])},Q=({shopperName:e,shopperPhoto:r})=>(0,o.jsx)(o.Fragment,{children:(0,o.jsxs)("div",{className:"h-text-center",children:[(0,o.jsx)(P.N,{isGrayscale:!0,isPreferredShopper:!0,shopperName:e,shopperPicture:r,size:"medium"}),(0,o.jsxs)("div",{children:[(0,o.jsx)(v.X,{className:"h-margin-t-default",level:3,stackSpacing:"x1",children:`Sorry, we couldn't add ${e}.`}),(0,o.jsx)("span",{className:"h-text-bs h-text-grayDark",children:"Please try again. You can also add this shopper the next time you're matched."})]})]})});function J(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function X(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?J(Object(t),!0).forEach((function(r){(0,j.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):J(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}Q.displayName="PreferredShopperErrorScreen";var K=t(60809);function ee(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);r&&(a=a.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,a)}return t}function re(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ee(Object(t),!0).forEach((function(r){(0,j.Z)(e,r,t[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ee(Object(t)).forEach((function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))}))}return e}const te=(e={})=>{const[r,{close:t,closeAll:a,open:i,isShown:p}]=(0,n.I)(re(re({shouldStack:!1},e),{},{type:"drawer"})),[l,{open:c}]=V(),[d,{open:u}]=((e={})=>{const[r,{close:t,closeAll:a,open:i,isShown:p}]=(0,n.I)(X(X({shouldStack:!1},e),{},{type:"drawer"}));r.displayName="PreferredShopperErrorDrawerOverlay";const l=({shopper:e,onAfterClose:a,openSuccessDrawer:n})=>{const{id:i,name:p,photo:l}=null!==e&&void 0!==e?e:{},{0:c,1:d}=(0,s.useState)(!1),[u,{isLoading:h}]=T(),m=(0,s.useCallback)((async()=>{await u({shopper_id:i},{onSuccess:()=>{d(!0),n()}})}),[u,i,n]),y=p||"your shopper";return(0,o.jsx)(o.Fragment,{children:(0,o.jsx)(r,{headingText:"Shopper not added",onAfterClose:c?void 0:a,renderCellButton:(0,o.jsx)(W,{buttonPrimaryProps:{onClick:m,displayText:"Try again",showSpinner:h,spinnerDataTest:"add-to-favorite-shoppers-spinner"},buttonSecondaryProps:{onClick:t,displayText:"Not this time"}}),scroll:"content",children:(0,o.jsx)(Q,{shopperName:y,shopperPhoto:l})})})};l.displayName="PreferredShoppeErrorDrawer";const c=(0,s.useCallback)(l,[r,t]);return(0,s.useMemo)((()=>[c,{close:t,closeAll:a,open:i,isShown:p}]),[c,t,a,i,p])})(),{trackFavoriteShopperPageload:h,trackFavoriteShopperAdditionClick:m}=(0,K.W)();r.displayName="PreferredShopperDrawerOverlay";const y=({onAfterClose:e=(()=>{}),orderId:a,shopper:n,tipAmount:i})=>{const[y,{isLoading:g}]=T(),f=(0,_.w)(),{id:v,name:b,photo:P}=null!==n&&void 0!==n?n:{};(0,s.useEffect)((()=>{a&&p&&h({orderId:a})}),[a]),(0,s.useEffect)((()=>{a&&p&&f("GLOBAL_PREFERRED_SHOPPER_DRAWER_ENABLED")}),[a,f]);const S=(0,s.useCallback)((async()=>{await y({shopper_id:v},{onSuccess:()=>{c(),m({shopperId:v,orderId:a})},onError:()=>{u()}})}),[y,v,a]),w=i&&i>0?"tipped":"rated",x=b?` ${b}`:"",k=b||"your shopper",j=(0,s.useCallback)((()=>{t(),e()}),[e]);return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(r,{headingText:`You ${w}${x}!`,onCloseClick:e,onRequestClose:e,renderCellButton:(0,o.jsx)(W,{buttonPrimaryProps:{onClick:S,displayText:"Add to Favorite Shoppers",showSpinner:g,spinnerDataTest:"add-to-favorite-shoppers-spinner"},buttonSecondaryProps:{onClick:j,displayText:"Not this time"}}),scroll:"content",children:(0,o.jsx)(R,{shopperName:k,shopperPhoto:P,tipAmount:i})}),(0,o.jsx)(l,{onAfterClose:e,shopper:n}),(0,o.jsx)(d,{onAfterClose:e,openSuccessDrawer:c,shopper:n})]})};y.displayName="PreferredShopperDrawer";const g=(0,s.useCallback)(y,[r,t,p,u,c,d,l,h,m]);return(0,s.useMemo)((()=>[g,{close:t,closeAll:a,isShown:p,open:i}]),[g,t,a,p,i])};var ae=t(83833),oe=t(52383),se=t(14176);const{useQuery:ne}=(0,h.J)({name:se.I_,disableOnServer:!0,defaultOptions:{staleTime:se.Ow},queryFn:async()=>{const{apiKey:e,apis:{orders:{endpointPaths:{shiptPendingOrders:r}}},baseUrl:t}=(0,u.asConfigV2)(u.config).services.apiPlatform,a=m.Z.buildURLWithParams(new URL(r,t),{}),{data:o,ok:s,statusText:n}=await(0,y.U2)(a,{headers:{"x-api-key":e},credentials:"include",timerTag:"shipt_fetch_pending_tippable_orders_api_call",errorTag:"shipt_fetch_pending_tippable_orders_api_error"});if(s)return o;throw new Error(`${n}`)}}),ie=(0,i.Hv)(ne,{minimumAssuranceLevel:i.Y3}),{useQuery:pe}=(0,h.J)({name:se.kI,disableOnServer:!0,defaultOptions:{staleTime:se.Ow},queryFn:async({orderNumber:e})=>{const{apiKey:r,apis:{orders:{endpointPaths:{shiptOrder:t}}},baseUrl:a}=(0,u.asConfigV2)(u.config).services.apiPlatform,o=m.Z.buildURLWithParams(new URL(t,a),{}),{data:s,ok:n,statusText:i}=await(0,y.U2)(`${o}/${e}`,{headers:{"x-api-key":r},credentials:"include",timerTag:"shipt_fetch_feedback_api_call",errorTag:"shipt_fetch_feedback_api_error"});if(n)return s;throw new Error(`${i}`)}}),le=(0,i.Hv)(pe,{minimumAssuranceLevel:i.Jr}),ce=()=>{const[e,r]=(0,n.I)({type:"drawer",shouldStack:!1}),[t,{open:a,close:h}]=(0,n.I)({type:"drawer",shouldStack:!1}),{trackRateAndTipPageload:m}=(0,K.W)(),[y,{open:b}]=te(),[w,{open:j}]=(()=>{const[e,{close:r,closeAll:t,open:a,isShown:i}]=(0,n.I)({type:"drawer",shouldStack:!1});e.displayName="DuplicateTipDrawerOverlay";const p=({order:t})=>{var a,s,n;return(0,o.jsx)(e,{headingText:"You're all set",children:(0,o.jsx)("div",{className:"h-text-center","data-test":"tip-drawer-duplicate",children:(0,o.jsxs)("div",{className:"h-padding-b-jumbo",children:[(0,o.jsx)(P.N,{shopperName:null!==(a=null===t||void 0===t||null===(s=t.shopper)||void 0===s?void 0:s.name)&&void 0!==a?a:"your shopper",shopperPicture:null===t||void 0===t||null===(n=t.shopper)||void 0===n?void 0:n.photo,size:"medium"}),(0,o.jsx)(v.X,{className:"h-margin-a-wide",level:3,children:"This shopper has already been tipped"}),(0,o.jsx)("div",{children:"Only one tip is allowed per order."}),(0,o.jsx)(k.P,{className:"h-margin-t-default","data-test":"done-btn",id:"done-btn",isFullWidth:!0,onClick:r,children:"Close"})]})})})};p.displayName="DuplicateTipDrawer";const l=(0,s.useCallback)(p,[e,r]);return(0,s.useMemo)((()=>[l,{close:r,closeAll:t,open:a,isShown:i}]),[l,r,t,a,i])})(),{0:O,1:T}=(0,s.useState)(),{0:_,1:N}=(0,s.useState)(null),D=(0,i.zy)(),C=(0,u.flags)("GLOBAL_TRBUY_PREFERRED_SHOPPER_ENABLED"),A=(0,f.T)().GLOBAL_PREFERRED_SHOPPER_DRAWER_ENABLED,E=C&&A,[R,{suppressDrawerTemporarily:I}]=(0,ae.zA)(),F=(0,s.useCallback)((()=>{R||I()}),[R,I]),L=({orderNumber:n}={})=>{var i;const{order:u,invalidateQueries:f}=(({orderNumber:e}={})=>{const[r]=(0,c.fo)(),t=Boolean(r(d.QA)),[a]=ie(void 0,{enabled:t}),o=a(e?r=>{var t;return null===r||void 0===r||null===(t=r.orders)||void 0===t?void 0:t.find((r=>(null===r||void 0===r?void 0:r.id)===e))}:e=>{var r;return null===e||void 0===e||null===(r=e.orders)||void 0===r?void 0:r[0]});return{order:!o||null!==o&&void 0!==o&&o.feedback?void 0:o,invalidateQueries:(0,s.useCallback)((()=>{(0,oe.Lh)(ie.queryName),(0,oe.Lh)(le.queryName),(0,oe.Dm)(ie),(0,oe.Dm)(le)}),[])}})({orderNumber:n});(0,s.useEffect)((()=>{!u||O||R||(r.open(),T(!0),m({orderId:null===u||void 0===u?void 0:u.id}))}),[u]),(0,s.useEffect)((()=>{R&&O&&(r.close(),T(!1))}),[]);const v=(0,s.useCallback)((()=>{D?f():I(),T(!1)}),[f]),[P]=(0,c.fo)({responseGroup:["shipt"]},{enabled:r.isShown&&E}),k=P(d.hs),[C,{status:A}]=g(void 0,{enabled:r.isShown&&k&&E&&D}),L=null===u||void 0===u||null===(i=u.shopper)||void 0===i?void 0:i.id,Z=C(),U=Z?Z.filter((e=>{var r;return(null===e||void 0===e||null===(r=e.shopper)||void 0===r?void 0:r.id)===L})):[],B=A!==l.o.Error&&(null===u||void 0===u?void 0:u.shopper)&&0===U.length&&E&&k,z=(0,s.useCallback)(((e,r)=>{B&&5===r?(N(e),b()):a()}),[B]),G=(0,s.useCallback)((()=>j()),[]);return(0,o.jsxs)(p.n,{tag:"error_boundary_shipt_tip_drawer",children:[(0,o.jsx)(e,{hasCloseButton:!D,hasDisabledCloseOptions:D,headingText:"Your order was delivered!",children:(0,o.jsx)(x,{closeAndSuppressDrawer:F,handleDuplicateTip:G,onTipFormSuccess:z,order:u})}),(0,o.jsx)(t,{headingText:"Thank you",onAfterClose:v,children:(0,o.jsx)(S,{closeDrawer:h})}),(0,o.jsx)(y,{onAfterClose:v,orderId:null===u||void 0===u?void 0:u.id,shopper:null===u||void 0===u?void 0:u.shopper,tipAmount:_}),(0,o.jsx)(w,{order:u})]})};L.displayName="RateAndTipDrawer";return[(0,s.useCallback)(L,[F,h,e,w,D,R,E,O,j,b,a,r,y,I,t,_,m]),r]},de=()=>{const[e]=ce();return(0,a.Z)(e,{})};de.displayName="ScheduledDeliveryRateAndTipDrawerDynamic"},16294:function(e,r,t){t.d(r,{h:function(){return p}});var a=t(85893),o=t(19521),s=t(81668),n=t(38734);const i=(0,o.ZP)(n.q).withConfig({displayName:"styles__StyledCell",componentId:"sc-og024m-0"})(["padding:",";box-sizing:border-box;"," > button{margin:",";}"],s.space.generic.x4,(({isStacked:e})=>e&&"flex-direction: column;"),(({isStacked:e})=>(e=>e?`0 0 ${s.space.generic.x4} 0;`:`0 ${s.space.generic.x4} 0 0`)(e))),p=({children:e,"data-test":r,isStacked:t=!1})=>(0,a.jsx)(i,{"data-test":r,divider:"topOnlySmallScreen",isStacked:t,children:e});p.displayName="ButtonGroup"},94034:function(e,r,t){t.d(r,{N:function(){return p}});var a=t(85893),o=t(58820),s=t(19521),n=t(81668);const i=s.ZP.div.withConfig({displayName:"styles__ShopperProfilePic",componentId:"sc-nfphzt-0"})(["display:inline-block;overflow:hidden;position:relative;transition:width 1s;transition:margin-top 1s;"," img,svg{",";",";object-fit:cover;border-radius:50%;}"],(({isPreferredShopper:e})=>(({isPreferredShopper:e})=>e?"\n        margin-top:0px;\n    ":`\n  margin-top: ${n.space.generic.x7};\n    `)({isPreferredShopper:e})),(({isGrayscale:e})=>!0===e?"filter: grayscale(1)":null),(({size:e})=>(({size:e})=>"small"===e?"\n        width: 88px;\n        height: 88px;\n    ":"\n    width: 215px;\n    height: 215px;\n    ")({size:e}))),p=({isGrayscale:e,isPreferredShopper:r,size:t,shopperName:s,shopperPicture:n,showDefaultImage:p=!1,showThankYouDefault:l=!1})=>{let c;return c=l?(0,a.jsx)("img",{alt:"Thank You",src:o.er}):!p&&n?(0,a.jsx)("img",{alt:s,src:n}):e?(0,a.jsx)("img",{alt:"Shipt Shopper",src:o.YH}):(0,a.jsx)("img",{alt:"Shipt Shopper",src:o.G_}),(0,a.jsx)(i,{isGrayscale:e,isPreferredShopper:r,size:t,children:c})};p.displayName="ShopperProfilePicture"},83833:function(e,r,t){t.d(r,{zA:function(){return p}});var a=t(67294),o=t(29428),s=t(58545);const n="SDRAT_SUPRESS",i="SDRAT_SUPRESS_COUNT",p=()=>{const{0:e,1:r}=(0,a.useState)(!1),t=(0,a.useCallback)((()=>o.ZP.remove(n)),[]),p=(0,a.useCallback)((()=>o.ZP.remove(i)),[]),l=(0,a.useCallback)((async()=>{var e;return null!==(e=await o.ZP.get(i))&&void 0!==e?e:0}),[]),c=(0,a.useCallback)((async()=>{var e,r;const t=null!==(e=await o.ZP.get(n))&&void 0!==e&&e,a=null===(r=await o.ZP.isExpired(n))||void 0===r||r;return Boolean(t&&!a)}),[]),d=(0,a.useCallback)((e=>{p(),t();const r=(0,s.Z)(new Date,30);return o.ZP.set(n,e,{expiry:r.getTime()})}),[p,t]);(0,a.useEffect)((()=>{(async()=>{if(e)return;const t=await c();r(t)})()}),[c,r,e]);const u=(0,a.useCallback)((()=>{(async()=>{if(e)return;const r=await l();r<1?o.ZP.set(i,r+1):await d(!0)})()}),[e,l,d]),h=(0,a.useCallback)((()=>{e||r(!0)}),[e]);return(0,a.useMemo)((()=>[e,{suppressDrawer:u,suppressDrawerTemporarily:h,clearDrawerSuppressionCount:p,clearShouldSuppress:t}]),[e,u,h,p,t])}},60809:function(e,r,t){t.d(r,{W:function(){return s}});var a=t(67294),o=t(17724);const s=()=>{const e=(0,o.rS)();return{trackRatingAndTipSubmissionClick:(0,a.useCallback)((({orderId:r,rating:t,tip:a,tipPercentage:o})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},lnk:{contentClick:{componentType:`rate and tip: star rating : ${t}`,contentType:r,componentSubType:a,linkName:o}}})}),[e]),trackOrderDetailsLitePageload:(0,a.useCallback)((({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip: order details",pageType:"rate and tip: order details",cmsPageId:"/rateAndTip/orderDetails/",cmsPageType:"/rateAndTip/orderDetails/",previousPageName:"rate and tip"},components:[{componentType:"rate and tip",contentType:r}]})}),[e]),trackFavoriteShopperPageload:(0,a.useCallback)((({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},components:[{componentType:"rate and tip: Favorite shopper",contentType:r}]})}),[e]),trackFavoriteShopperAdditionClick:(0,a.useCallback)((({shopperId:r,orderId:t})=>{e.trackEvent({guest:{eventType:"click"},appState:{pageName:"rate and tip/favoriteshopper",pageType:"rate and tip",cmsPageId:"/rateAndTip/favoriteshopper",cmsPageType:"/rateAndTip"},lnk:{contentClick:{component:`Shopper id: ${r}`,contentType:t,componentType:"rate and tip: Favorite shopper added"}}})}),[e]),trackRateAndTipPageload:(0,a.useCallback)((({orderId:r})=>{e.trackEvent({guest:{eventType:"pageload"},appState:{pageName:"rate and tip",pageType:"rate and tip",cmsPageId:"/rateAndTip/",cmsPageType:"/rateAndTip/"},components:[{componentType:"rate and tip",contentType:r}]})}),[e])}}},14176:function(e,r,t){t.d(r,{I_:function(){return o},Ow:function(){return a},S3:function(){return i},kI:function(){return s},ud:function(){return n}});const a=3e5,o="@web/domain-orders/get-pending-shipt-orders",s="@web/domain-orders/get-shipt-order",n="@web/domain-orders/post-shopper-rating-and-tip",i={pending_order:!0,shipt_status:!0}}}]);